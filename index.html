<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <title>2GHG Study Guide</title>
    <link rel="manifest" href="manifest.json" />
    <link rel="icon" href="2GHGLogo.png">
    <link rel="apple-touch-icon" href="2GHGLogo.png">
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-status-bar-style" content="#333">    
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />
    <!-- 
      ## DNC
      - When in stand at attention, what is allowed to move?
      - What is the command to return from dress right dress?

      ## Customs
      - When is it appropriate to salute?
      - When is it appropriate not to salute?
      - When a NCO encounters an officer, who salutes first?
      - How long does an NCO hold a salute?

      ## Army Values
      LDRSHIP
      - Loyalty
      - Duty
      - Respect
      - Selfless Service
      - Honor
      - Integrity
      - Personal Courage

      ## Ranks

      ## History
      - When was 2GHG founded?
      - Who was the first commander?

      - Define Military Bearing in your own words.
     -->
  </head>
  <body>
    <div id="flashcards">
    <div class="nav-bar">
      Topic:
      <select id="cardBankSelector">
        <option></option>
      </select>
      <button id="testButton">Test</button>
      <button id="testWithAnswersButton">Key</button>
    </div>

    <div class="card-bank history" data-card-bank-title="History" tabindex="1">
      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            When was the Horse Guard Founded?
          </div>
          <div class="back">October 13, 1808</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            Who was the first commander of the Horse Guard?
          </div>
          <div class="back">Elihu Munsun</div>
        </div>
      </div>
    </div>

    <div class="card-bank customs" data-card-bank-title="Customs" tabindex="1">
      <div class="card" tabindex="1">
        <div class="content">
          <div class="front md">When is it appropriate to salute?</div>
          <div class="back sm left">
            <ul>
              <li>Upon encountering an officer</li>
              <li>National Anthem, To the Color, Hail to the Chief, anthem of foreign allies.</li>
              <li>Uncased National Colors Outdoors</li>
              <li>Ceremonial occasions as prescribed</li>
              <li>During raising and lowering of the flag</li>
              <li>During the sounding of honors</li>
              <li>During the pledge of allegiance outdoors</li>
              <li>When turning over control of formations</li>
              <li>When rendering reports</li>
              <li>To officers of friendly foreign contries</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front md">When is it appropriate NOT to salute?</div>
          <div class="back sm left">
            <ul>
              <li>Indoors, except when reporting to an officer</li>
              <li>Encountering a prisoner</li>
              <li>When saluting is obviously inappropriate as when both hands are full</li>
              <li>If either party is in civilian clothes</li>
              <li>In public transportation or while driving</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front md">Recite the Army Values</div>
          <div class="back md left">
            <ul>
              <li>Loyalty</li>
              <li>Duty</li>
              <li>Respect</li>
              <li>Selfless Service</li>
              <li>Honor</li>
              <li>Integrity</li>
              <li>Personal Courage</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front md">Define LOYALTY</div>
          <div class="back md">
            Devote yourself to the U.S. Constitution, the Army, your unit, and other fellow Soldiers.
          </div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front md">Define DUTY</div>
          <div class="back md">
            Fulfill your responsibilities and accomplish tasks as part of a team, without taking shortcuts.
          </div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front md">Define RESPECT</div>
          <div class="back md">
            Treat others with dignity and respect while expecting others to do the same. That’s the Soldier’s Code.
          </div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front md">Define SELFLESS SERVICE</div>
          <div class="back md">
            Commit to going a little further, enduring a little longer, and adding to the effort in your own way.
          </div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front md">Define HONOR</div>
          <div class="back md">
            Develop honorable habits and live up to our values in every choice you make.
          </div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front md">Define INTEGRITY</div>
          <div class="back md">
            Stand up for what’s right, legally and morally, without doing or saying anything that deceives others.
          </div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front md">Define PERSONAL COURAGE</div>
          <div class="back md">
            Face moral fear or adversity, while standing up for and acting upon the things you know are honorable.
          </div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front md">What is Military Bearing?</div>
          <div class="back md">
            Military bearing is the demonstration of confidence, discipline, and attitude in everyday life while on or off duty. Soldiers should never lose their military bearing just because they are off duty.
          </div>
        </div>
      </div>

    </div>

    <div class="card-bank dnc" data-card-bank-title="DNC" tabindex="1">
      <div class="card" tabindex="1">
        <div class="content">
          <div class="front md">Command to recover from<br />"Present, ARMS"?</div>
          <div class="back">"Order, ARMS"</div>
        </div>
      </div>
      <div class="card" tabindex="1">
        <div class="content">
          <div class="front md">In "Stand at Attendion", what can move?</div>
          <div class="back">Head and eyes</div>
        </div>
      </div>
      <div class="card" tabindex="1">
        <div class="content">
          <div class="front md">What command ends "Dress Right, DRESS"?</div>
          <div class="back">Ready, FRONT</div>
        </div>
      </div>
      <div class="card" tabindex="1">
        <div class="content">
          <div class="front md">What is the default stance, when in doubt?</div>
          <div class="back">Attention</div>
        </div>
      </div>
    </div>

    <div class="card-bank grooming" data-card-bank-title="Grooming" tabindex="1">
      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            Why do we groom the horses?
          </div>
          <div class="back sm left">
            <ul>
              <li>Promotes overall health</li>
              <li>Helps in maintaining condition</li>
              <li>Helps to prevent diseases of the skin</li>
              <li>Ensures cleanliness and improves appearance</li>
              <li>Helps acquaint the rider with unfamiliar horses</li>
              <li>Allows the rider to check for injuries</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="card-bank ranks" data-card-bank-title="Ranks" tabindex="1">

      <!-- Enlisted -->

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/enlisted/sm/private_noimage.svg"
            />
          </div>
          <div class="back">Private (PV1)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/enlisted/sm/private.svg"
            />
          </div>
          <div class="back">Private (PV2)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/enlisted/sm/private_first_class.svg"
            />
          </div>
          <div class="back">Private First Class (PFC)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/enlisted/sm/specialist.svg"
            />
          </div>
          <div class="back">Specialist (SPC)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/enlisted/sm/corporal.svg"
            />
          </div>
          <div class="back">Corporal (CPL)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/enlisted/sm/sergeant.svg"
            />
          </div>
          <div class="back">Sergeant (SGT)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/enlisted/sm/staff_sergeant.svg"
            />
          </div>
          <div class="back">Staff Sergeant (SSG)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/enlisted/sm/sergeant_first_class.svg"
            />
          </div>
          <div class="back">Sergeant First Class (SFC)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/enlisted/sm/master_sergeant.svg"
            />
          </div>
          <div class="back">Master Sergeant (MSG)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/enlisted/sm/first_sergeant.svg"
            />
          </div>
          <div class="back">First Sergeant (1SG)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/enlisted/sm/sergeant_major.svg"
            />
          </div>
          <div class="back">Sergeant Major (SGM)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/enlisted/sm/command_sergeant_major.svg"
            />
          </div>
          <div class="back">Command Sergeant Major (CSM)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/enlisted/sm/sergeant_major_of_the_army.svg"
            />
          </div>
          <div class="back">Sergeant Major of the Army (SMA)</div>
        </div>
      </div>

      <!-- Warrant Officer -->

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/warrant_officer/sm/cw1.svg"
            />
          </div>
          <div class="back">Warrant Officer 1 (WO1)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/warrant_officer/sm/cw2.svg"
            />
          </div>
          <div class="back">Chief Warrant Officer 2 (CW2)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/warrant_officer/sm/cw3.svg"
            />
          </div>
          <div class="back">Chief Warrant Officer 3 (CW3)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/warrant_officer/sm/cw4.svg"
            />
          </div>
          <div class="back">Chief Warrant Officer 4 (CW4)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/warrant_officer/sm/cw5.svg"
            />
          </div>
          <div class="back">Chief Warrant Officer 5 (CW5)</div>
        </div>
      </div>

      <!-- Officer -->

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/officer/sm/second_lieutenant.svg"
            />
          </div>
          <div class="back">Second Lieutenant (2LT)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/officer/sm/first_lieutenant.svg"
            />
          </div>
          <div class="back">First Lieutenant (1LT)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/officer/sm/captain.svg"
            />
          </div>
          <div class="back">Captain (CPT)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/officer/sm/major.svg"
            />
          </div>
          <div class="back">Major (MJR)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/officer/sm/lieutenant_colonel.svg"
            />
          </div>
          <div class="back">Lieutenant Colonel (LTC)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/officer/sm/colonel.svg"
            />
          </div>
          <div class="back">Colonel (COL)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/officer/sm/brigadier_general.svg"
            />
          </div>
          <div class="back">Brigadier General (BG)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/officer/sm/major_general.svg"
            />
          </div>
          <div class="back">Major General (MG)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/officer/sm/lieutenant_general.svg"
            />
          </div>
          <div class="back">Lieutenant General (LG)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/officer/sm/general.svg"
            />
          </div>
          <div class="back">General (GEN)</div>
        </div>
      </div>

      <div class="card" tabindex="1">
        <div class="content">
          <div class="front">
            <img
              src="https://www.army.mil/e2/images/rv7/ranks/badges/officer/sm/general_of_the_army.svg"
            />
          </div>
          <div class="back">General of the Army (GA)</div>
        </div>
      </div>
    </div>

    <div class="footer">
      <button id="previousButton">&lt;</button>
      &nbsp;
      &nbsp;
      <button id="randomButton">Random</button>
      &nbsp;
      &nbsp;
      <button id="nextButton">&gt;</button>
    </div>
    </div>

    <div id="test"></div>

  </body>
  <style>
    html,
    body {
      font-family: "IBM Plex Sans", sans-serif;
      background: #eee;
      width: 100vw;
      height: 100vh;
      box-sizing: border-box;
      overflow: hidden;
    }

    .nav-bar {
      background-color: #333;
      color: #eee;
      height: 2rem;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      text-align: center;
      z-index: 1;
    }

    .nav-bar > * {
      vertical-align: middle;
    }


    .footer {
      background-color: #333;
      color: #eee;
      height: 2rem;
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      text-align: center;
      z-index: 1;
    }

    .card-bank {
      position: relative;
      width: 50%;
      max-width: 800px;
      margin: auto;
      background-color: #eee;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: row;
      height: 100vh;
      display: none;
    }

    .card-bank.current {
      display: block;
    }

    .card {
      position: absolute;
      top: calc(50% + 0rem);
      left: calc(50% - .5rem);
      width: 400px;
      height: 300px;
      margin: -200px;
      float: left;
      perspective: 500px;
      display: none;
    }

    .card.current {
      display: block;
    }

    .content {
      position: absolute;
      width: 100%;
      height: 100%;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);

      transition: transform 1s;
      transform-style: preserve-3d;
    }

    .card:hover .content,
    .card:focus-within .content {
      transform: rotateY(180deg);
      transition: transform 0.5s;
    }

    .front,
    .back {
      position: absolute;
      height: 100%;
      width: 100%;
      background: white;
      /* line-height: 300px; */
      color: #03446a;
      text-align: center;
      font-size: 2rem;
      border-radius: 5px;
      backface-visibility: hidden;

      line-height: normal;
      justify-content: center;
      display: flex;
      align-items: center;
      text-align: center;
      flex-direction: column;
      box-sizing: border-box;
      padding: 0 1rem;
    }

    .front ul,
    .back ul {
      padding-left: 0;
    }

    .front li,
    .back li {
      margin-left: .5em;
      padding-left: 1.25em;
    }

    .front.left,
    .back.left {
      align-items: flex-start;
      text-align: left;
      padding-left: 1em;
      text-indent: -1em;
    }

    .front.sm,
    .back.sm {
      font-size: 1rem;
    }

    .front.md,
    .back.md {
      font-size: 1.5rem;
    }

    .front.lg,
    .back.lg {
      font-size: 2rem;
    }

    .back {
      background: #03446a;
      color: white;
      transform: rotateY(180deg);
    }

    #test {
      display: none;
    }

    #test.active {
      display: block;
      position: absolute;
      top: 2px;
      left: 2px;
      right: 2px;
      bottom: 2px;
      background-color: rgba(255, 255, 255, 0.99);
      z-index: 10;
      overflow: auto;
    }

    #test.active > * { overflow: auto !important; }

    /* #previousButton,
    #nextButton {
      position: fixed;
      top: calc(50% - 1.5rem);
      width: 3rem;
      height: 3rem;
    }

    #previousButton {
      right: calc(50% + 220px);      
    }

    #nextButton {
      left: calc(50% + 220px + 1rem);      
    } */

    @media screen and (max-width: 600px) {
      button,
      select {
        font-size: 1.5rem;
        border: none;
        border-radius: 4px;
        height: 3rem;
        color: #333;
      }

      .nav-bar {
        font-size: 1.5rem;
        height: 5rem;
        line-height: 5rem;
      }

      .footer {
        height: 5rem;
        line-height: 5rem;
      }
    }

    @media print {
      #flashcards {
        display: none;
      }
      #test.active {
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        right: 0;
        overflow: visible;
      }
    }
  </style>
  <script>
    window.onload = (event) => {
      const cardBanks = document.querySelectorAll(".card-bank");
      const params = new URLSearchParams(location.search);

      const cardBankTitles = [...cardBanks].map((d) =>
        d.getAttribute("data-card-bank-title")
      );
      cardBankSelector.innerHTML = "";

      const allOption = document.createElement("option");
      allOption.innerText = 'All';
      cardBankSelector.options.add(allOption);

      cardBankTitles.forEach((d) => {
        const option = document.createElement("option");
        option.innerText = d;
        option.selected = params.get('bank') === d;
        cardBankSelector.options.add(option);
      });

      const shuffleArray = (arr) =>
        arr
          .map((a) => [Math.random(), a])
          .sort((a, b) => a[0] - b[0])
          .map((a) => a[1]);

      const currentCards = () => {
        let bank;
        let bankName = cardBankSelector[cardBankSelector.selectedIndex].text
        if (bankName === 'All') {
          bank = document.querySelector(`.card-bank`).parentElement;
        } else {
          bank = document.querySelector(`.card-bank[data-card-bank-title=${bankName}]`);
        }
        const cards = bank.querySelectorAll(".card");
        return [...cards];
      }

      const currentCard = () => {
        return currentCards()[whichCard()];
      }

      const whichCard = () => {
        let found = 0;
        currentCards().forEach((d, i) => {
          if (d.classList.contains('current')) {
            found = i;
          }
        })
        return found;
      }

      const setBankCurrent = (bank) => {
        [...document.querySelectorAll('.card-bank')].forEach(d => {
          if (d === bank) {
            d.classList.add('current')
          } else {
            d.classList.remove('current')
          }
        })
      }

      const showCard = (n) => {
        const cards = currentCards()
        cards.forEach((d, i) => {
          if (i === n % cards.length) {
            d.classList.add('current');
            setBankCurrent(d.parentElement);
          } else {
            d.classList.remove('current');
          }
        })
      }

      const handlePreviousClicked = () => {
        const cards = currentCards()
        const n = whichCard();
        showCard(n > 0 ? n - 1 : cards.length - 1);
      };

      const handleRandomClicked = () => {
        const c = currentCards();
        const n = Math.floor(Math.random() * c.length);
        showCard(n);
      };

      const handleNextClicked = () => {
        const n = whichCard();
        showCard(n + 1);
      };

      const handleTestClicked = () => {
        const questions = [...document.querySelectorAll('.card .content')];
        const html = [];
        html.push('<head><title>2GHG Test</title></head>')
        html.push('<style>#test img { max-width: 4rem; }</style>')
        html.push('<ol>')
        questions.map((d, i) => {
          let q = d.querySelector('.front');
          html.push(`<li>${q.innerHTML.replace(/<br>/g, ' ')}</li>`);
          html.push(`<p><hr/></p>`);
        })
        html.push('</ol>')
        // document.body.innerHTML = html.join('\n')
        // var testWindow = window.open("", "2GHG Test", "width=800,height=1024");
        // testWindow.document.write(html.join('\n'));        
        // testWindow.document.close();
        test.innerHTML = html.join('')
        test.classList.add('active')
      };

      const handleTestWithAnswersClicked = () => {
        const questions = [...document.querySelectorAll('.card .content')];
        const html = [];
        html.push('<head><title>2GHG Test with Answers</title></head>')
        html.push('<style>#test img { max-width: 4rem; }</style>')
        html.push('<ol>')
        questions.map((d, i) => {
          let q = d.querySelector('.front');
          let a = d.querySelector('.back');
          html.push(`<li>${q.innerHTML.replace(/<br>/g, ' ')}</li>`);
          html.push(`<p>${a.innerHTML}</p>`);
          html.push(`<p><hr/></p>`);
        })
        html.push('</ol>')
        // document.body.innerHTML = html.join('\n')
        // var testWindow = window.open("", "2GHG Test with Answers", "width=800,height=1024");
        // testWindow.document.write(html.join('\n'));        
        // testWindow.document.close();
        test.innerHTML = html.join('')
        test.classList.add('active')
      };

      const handleCardBankChange = () => {
        const bankName = cardBankSelector[cardBankSelector.selectedIndex].text;
        console.log('PMM>', bankName, cardBanks);
        [...cardBanks].forEach((d) => {
          console.log(d);
          if (bankName === 'All' || d.getAttribute("data-card-bank-title") === bankName) {
            d.classList.add("current");
            showCard(0);
          } else {
            d.classList.remove("current");
          }
        });
        const params = new URLSearchParams(location.search);
        params.set('bank', bankName)
        const newurl = window.location.protocol + "//" + window.location.host + window.location.pathname + `?${params.toString()}`;

        window.history.pushState({ path: newurl }, '', newurl);
      };

      cardBankSelector.addEventListener("change", handleCardBankChange);
      previousButton.addEventListener("click", handlePreviousClicked);
      randomButton.addEventListener("click", handleRandomClicked);
      nextButton.addEventListener("click", handleNextClicked);
      testButton.addEventListener("click", handleTestClicked);
      testWithAnswersButton.addEventListener("click", handleTestWithAnswersClicked);
      test.addEventListener("click", () => { test.classList.remove('active'); });

      handleCardBankChange();
    };
  </script>
</html>
